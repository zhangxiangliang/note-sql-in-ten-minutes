# 分组数据
* GROUP BY子句和HAVING子句。

## 创建分组
* GROUP BY 子句指示DBMS分组数据，然后对每个组结果集进行聚集。
* GROUP BY 子句可以包含任意数目的列。
* GROUP BY子句中嵌套了分组，指定的所有列都一起计算所以不能从个别的列取回数据。
* GROUP BY子句中列出的每一列都必须是检索列或有效的表达式，不能是聚集函数。如果在SELECT中使用表达式，则必须在GROUP BY子句中指定相同的表达式。不能使用别名。
* 除聚集计算语句外，SELECT语句中的`每一列都必须`在GROUP BY子句中给出。
* 如果分组列中包含具有NULL值的行，则NULL将作为一个分组返回。如果列中有多行NULL值，它们将分为一组。
* GROUP BY子句必须出现在WHERE子句之后，ORDER BY子句之前。

## 过滤分组
* `HAVING` 支持所有 `WHERE` 操作符。
* `WHERE` 是分组前，`HAVING` 是分组后。
* `HAVING` 与 `WHERE` 非常类似，如果不指定GROUP BY，则大多数DBMS会同等对待它们。
* 使用HAVING时应该结合GROUP BY子句，而WHERE子句用于标准的行级过滤。

## 分组和排序
### ORDER BY
* 对产生的输出排序。
* 任意列都可以使用（包括非选择列）。
* 不一定需要。

### GROUP BY
* 对行分组，但输出可能不是分组的顺序。
* 只能是选择列或表达式列。
* 如果与聚集函数一起使用列（或表达式），则必须使用。

## SELECT 子句顺序
| 子句 | 说明 | 是否必须使用|
| -- | -- | -- | -- |
| SELECT | 要返回的列或表达式 | 是 |
| FROM | 从中检索数据的表 | 仅在从表选择数据时使用 |
| WHERE | 行级过滤 | 否 |
| GROUP BY | 分组说明 | 仅在按组计算聚集时使用 |
| HAVING | 组级过滤 | 否 |
| ORDER BY | 输出排序顺序 | 否 |
